<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>virtualisation on AdRiLiNuX&#39;s web site</title>
    <link>https://www.reslinger.net/categories/virtualisation/</link>
    <description>Recent content in virtualisation on AdRiLiNuX&#39;s web site</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>fr-fr</language>
    <lastBuildDate>Wed, 03 Dec 2014 00:00:00 +0000</lastBuildDate>
    
        <atom:link href="https://www.reslinger.net/categories/virtualisation/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Console virsh</title>
      <link>https://www.reslinger.net/2014/12/console-virsh/</link>
      <pubDate>Wed, 03 Dec 2014 00:00:00 +0000</pubDate>
      
      <guid>https://www.reslinger.net/2014/12/console-virsh/</guid>
      <description>&lt;p&gt;Bonjour,&lt;/p&gt;
&lt;p&gt;Aujourd&amp;rsquo;hui, rien de passionnant, juste un petit mémo pour l&amp;rsquo;entrer dans une machine virtuelle pilotée par libvirt, mais surtout le raccourcis pour en ressortir.&lt;/p&gt;
&lt;p&gt;Pour entrer :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;virsh console VM
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Pour sortir&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Ctrl + ]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Bien sur, il faut que le système invité soit configuré pour avoir une console sur le port série.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OpenVZ sur une RedHat 6</title>
      <link>https://www.reslinger.net/2012/06/openvz-sur-une-redhat-6/</link>
      <pubDate>Thu, 28 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>https://www.reslinger.net/2012/06/openvz-sur-une-redhat-6/</guid>
      <description>&lt;p&gt;Bonjour tout le monde,&lt;/p&gt;
&lt;p&gt;Aujourd&amp;rsquo;hui, je vous propose de mettre en place un système de virtualisation utilisable sur tout type de matériel. En fait, dans notre cas du jour, il ne s&amp;rsquo;agit pas exactement de virtualisation mais plutôt de conteneur. L&amp;rsquo;avantage, c&amp;rsquo;est que ça fonctionne sur des machines qui n&amp;rsquo;ont pas forcément les instructions de virtualisation matériel. Pour ceux qui ne savent pas ce qu&amp;rsquo;est un conteneur (dans ce contexte), je vais faire un petit rappel.&lt;/p&gt;
&lt;p&gt;Le conteneur permet de faire des machines virtuelles, mais celles ci n&amp;rsquo;auront pas un espace complet réservé comme sur d&amp;rsquo;autre système de virtualisation car pour le système hôte et les invités, il s&amp;rsquo;agit du même noyau. Cela implique donc différente chose, à commencer par des performance élevée car il y a moins d&#39;étape entre l&amp;rsquo;application d&amp;rsquo;une machine virtuelle et le matériel (disque, mémoire, cpu, &amp;hellip;). En contre parti, comme on a qu&amp;rsquo;un seul noyau, les invités sont donc du même type que l&amp;rsquo;hôte (Linux &amp;ndash; Linux, Windows &amp;ndash; Windows).&lt;/p&gt;
&lt;p&gt;Ici, nous ne verrons que la parti Linux. Le projet que nous allons utiliser s’appelle OpenVZ. Bien sûr, il y en a d&amp;rsquo;autre qui existe.&lt;/p&gt;
&lt;p&gt;Nôtre système hôte sera un clone d&amp;rsquo;une RedHat 6 (Scientific Linux 6).&lt;/p&gt;
&lt;p&gt;L&amp;rsquo;installation sur ce genre de système est vraiment très simple.&lt;/p&gt;
&lt;p&gt;Récupérez en premier la définition du dépôt :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd /etc/yum.repos.d &amp;amp;&amp;amp; wget http://download.openvz.org/openvz.repo &amp;amp;&amp;amp; \
rpm --import http://download.openvz.org/RPM-GPG-Key-OpenVZ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ensuite, modifier le fichier openvz.repo pour désactiver le dépot redhat 5 et activer celui de la redhat 6.&lt;/p&gt;
&lt;p&gt;Enfin, installez le kernel:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yum install vzkernel-firmware vzkernel vzctl vzquota
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Pour que OpenVZ soit fonctionnel, il reste juste un peu de configuration. Désactiver SELinux (/etc/selinux/config) et mettez dans le fichier /etc/sysctl.conf ce qui suit:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# On Hardware Node we generally need  
# packet forwarding enabled and proxy arp disabled  
net.ipv4.ip_forward = 1  
net.ipv6.conf.default.forwarding = 1  
net.ipv6.conf.all.forwarding = 1  
net.ipv4.conf.default.proxy_arp = 0 

# Enables source route verification  
net.ipv4.conf.all.rp_filter = 1 

# Enables the magic-sysrq key  
kernel.sysrq = 1 

# We do not want all our interfaces to send redirects  
net.ipv4.conf.default.send_redirects = 1  
net.ipv4.conf.all.send_redirects = 0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Après un redémarrage sur le nouveau noyau, vous voilà prêt à créer et démarrer vos machines virtuelles.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>