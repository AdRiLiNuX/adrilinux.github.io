<!doctype html>
<meta charset="utf-8">
<link rel="stylesheet" href="../static/style.css">
<title> ‚Äî AdRiLiNuX</title>
<body>
  <header>
    <h1>AdRiLiNuX</h1>
    <nav>
      <ul class="nav navbar-nav">
        <li><a href="../">Accueil</a></li>
        
          <li class="active"><a href="../blog/">Blog</a></li>
        
          <li><a href="../projects/">Projets</a></li>
        
          <li><a href="../about/">√Ä propos</a></li>
        
      </ul>
    </nav>
  </header>
  <div class="page">
    
  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2018/2/6/chiffrer-homedir-ubuntu/">Chiffrer son homedir sous Ubuntu</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2018-02-06
  </p>
  <p>Bonjour,</p>
<p>J'avais sous la main une machine sous Ubuntu Xenial (16.04 LTS) o√π je voulais activer le chiffrage du homedir car je ne l'avais pas fait durant l'installation du syst√®me. Pourquoi ? Simplement par ce que j'installe des syst√®mes sur disque chiffr√©. Je pensais alors que c'√©tait suffisant.
La machine que j'ai voulu modifier est en fait une machine potentiellement partag√©e aujourd'hui, les besoins ont donc chang√©s. Voyons tout de suite comment effectuer ces manipulations (apr√®s avoir fait une sauvegarde du homedir, il en va sans dire).</p>
<p>Pour l'installation des paquets :</p>
<pre><code>apt install ecryptfs-utils libpam-mount
</code></pre>
<p>Pour l'encryption du homedir :</p>
<pre><code>ecryptfs-migrate-home -u $MON_USER
</code></pre>
<p>Enfin, sans red√©marrer la machine, il est recommand√© de se connecter tout de suite √† sa session pour v√©rifier le bon d√©roul√© et y taper la commande suivante pour avoir le passe de r√©cup√©ration :</p>
<pre><code>ecryptfs-migrate-home -u mon_user
</code></pre>
<p>L'op√©ration de chiffrement √©tant valid√©e, vous pourez supprimer le r√©pertoire de sauvegarde r√©alis√© dans le r√©pertoire /home .</p>
<p>Source utilis√©e: <a href="https://doc.ubuntu-fr.org/ecryptfs">ecryptfs sur ubuntu-fr</a></p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2017/10/22/first-post/">Hello Website powered by lektor</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2017-10-22
  </p>
  <p>Bonjour tout le monde,</p>
<p>Vous l'aurez peut √™tre tous remarqu√©, le site √† chang√© de t√™te. En fait, Je n'utilise plus <a href="https://wordpress.org">Wordpress</a> comme moteur de blog bien qu'il est support√© mon site durant les 7 derni√®res ann√©es sur un serveur d√©di√©. √âvolution oblige, je suis pass√© sur <a href="https://www.getlektor.com">lektor</a>, un g√©n√©rateur de site static bas√© sur python, et au d√©ploiement automatique. Les anciens articles publi√©s sont r√©import√©s, le d√©ploiement automatique est op√©rationnel, le th√®me est encore √† revoir.</p>
<p>Il y aura donc encore des changements sur le site dans les prochains jours.</p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2015/07/01/windows-bios-utc/">Windows en dual boot</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2015-07-01
  </p>
  <p>Bonjour,</p>
<p>J'utilise Linux la majeur partie de mon temps. Sur quelques machines, je suis en dual boot. Et par chez nous, nous changeons r√©guli√®rement d'heure pour suivre le soleil. Et avoir les deux syst√®mes qui mettent √† jour la m√™me horloge, et bien c'est la gal√®re. Pour √©viter les ennuies, je configure le BIOS de mes machines en UTC, et ce depuis des ann√©es. Je profite donc de ce billet pour donner les commandes windows √† ex√©cuter dans un terminal administrateur pour que Windows 10 calcule comme un grand son horloge local √† partir d'une horloge BIOS en UTC.</p>
<p>Voici les diff√©rentes √©tapes :</p>
<p>Configuration de la base de regisre pour avoir l'heure bios en utc :</p>
<pre><code>reg ADD HKLM\System\CurrentControlSet\Control\TimeZoneInformation /t REG_DWORD /v RealTimeIsUniversal /d 1
</code></pre>
<p>Synchroniser l'heure :</p>
<pre><code>w32tm /config /update
</code></pre>
<p>D√©sactiver le service Windows Time service qui √©crit l'heure √† chaque arr√™t du syst√®me sans regarder le registre :</p>
<pre><code>sc config w32time start= disabled
</code></pre>
<p>√âventuellement, on peut installer un service ntp. Personnellement, mes sessions Windows ne sont plus assez longues depus bien longtemps pour avoir suffi des d√©sagr√©ments.</p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2014/12/03/console-virsh/">Console virsh</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2014-12-03
  </p>
  <p>Bonjour,</p>
<p>Aujourd'hui, rien de passionnant, juste un petit m√©mo pour l'entrer dans une machine virtuelle pilot√©e par libvirt, mais surtout le raccourcis pour en ressortir.</p>
<p>Pour entrer :</p>
<pre><code>virsh console VM
</code></pre>
<p>Pour sortir</p>
<pre><code>Ctrl + ]
</code></pre>
<p>Bien sur, il faut que le syst√®me invit√© soit configur√© pour avoir une console sur le port s√©rie.</p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2014/08/17/desactiver-le-choix-du-navigateur/">D√©sactiver le choix du navigateur</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2014-08-17
  </p>
  <p>Bonjour tout le monde.</p>
<p>Si vous √™tes comme moi √† installer un Windows de temps en temps , alors vous avez d√ª aussi remarquer qu'√† un moment donn√© une boite de dialogue appara√Æt demandant de choisir son navigateur. Sur une machine d'administration qui ne d√©marre qu'une fois par an, installer un autre navigateur qui sera de toute fa√ßon obsol√®te au d√©marrage suivant n'est pas forc√©ment judicieux. La probl√©matique qui se pose alors est de d√©sactiver cette fameuse boite de dialogue.</p>
<p>Pour de faire, il faut ajouter via un √©diteur de base de registre, un Nouveau DWORD dans "HKEY_LOCAL_MACHINE\Software\BrowserChoice" du nom de "Enable". Sa valeur sera 0 pour le d√©sactiver, 1 pour le r√©activer.</p>
<p>Ensuite, la machine d√©marre plus vite üôÇ</p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2014/07/21/migration-dun-clone-rhel-vers-autre-ou-une-rhel/">Migration d&#39;un clone RHEL vers un autre (ou une RHEL)</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2014-07-21
  </p>
  <p>Bonjour,</p>
<p>Dans la petite famille des clones RedHat, CentOS est la distribution la plus connue. Pourtant, pendant un certain temps, apr√®s la sortie de la version 6 de Redhat, CentOS √† √©t√© fortement critiqu√© pour ses releases tardives. A ce moment l√†, je suis aller tester d'autre distribution. Quelque mois plus tard, je me suis retrouv√© avec une ClearOS et une RedHat en production, √† cot√© de mes ScientificLinux.</p>
<p>C'est bien beau, tout le monde √©tait en version 6.x, mais √ßa fesait 3 d√©p√¥ts √† g√©r√©, dont un qui n'a jamais re√ßu de mise √† jour. Soit. Les distributions √©tant compatible entre elle, une migration devait √™tre possible.</p>
<p>Pour ce faire, j'ai utilis√© ce <a href="http://marcet.technofil.fr/2011/09/22/migrer-de-centos-vers-scientific-linux/">premier lien</a> et ce <a href="http://blog.famillecollet.com/post/2010/04/15/Migration-de-CentOS-5.4-vers-RHEL-5.5">second lien</a>.</p>
<p>Voici pour info ce que j'ai tap√©:</p>
<pre><code>wget http://ftp.scientificlinux.org/linux/scientific/6.1/x86_64/os/Packages/{redhat-logos-60.0.14-2.sl6.4.noarch.rpm,redhat-lsb-4.0-3.el6.x86_64.rpm,redhat-lsb-graphics-4.0-3.el6.x86_64.rpm,redhat-lsb-printing-4.0-3.el6.x86_64.rpm,sl-indexhtml-6-2.sl6.5.noarch.rpm,sl-release-6.1-2.x86_64.rpm,sl-release-notes-6.1-1.noarch.rpm,yum-3.2.29-17.el6.noarch.rpm,yum-metadata-parser-1.1.2-16.el6.x86_64.rpm,yum-rhn-plugin-0.9.1-26.el6.noarch.rpm,yum-utils-1.1.30-6.el6.noarch.rpm}
rpm -e --nodeps $(rpm -qa clearos\* redhat\* centos\* yum\* | sort)
rpm -ivh *
yum clean all &amp;&amp; yum reinstall $(rpm -qa --qf "%{NAME} %{VENDOR}\n" | egrep '(ClearFoundation|Red Hat, Inc.)' | cut -d\  -f1)
yum update
yum clean all &amp;&amp; yum --releasever=6x update
</code></pre>
<p>&nbsp;</p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2014/07/21/putty-et-les-tunnels-imbriques/">Putty et les tunnels imbriqu√©s</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2014-07-21
  </p>
  <p>Bonjour,</p>
<p>Pour ceux qui n'ont pas toujours le choix de leurs outils, il faut arriver √† retrouver ses habitudes avec les outils fournis.</p>
<p>Dans mon cas, j'utilise Linux au quotidien, et au travail je suis souvent avec un poste sous Windows. Le syst√®me √©tant radicalement diff√©rent, les outils le sont aussi. Avec openssh, il est facile de modifier sont fichier ~/.ssh/config pour cr√©er des connexions ssh¬† avec rebond de mani√®re transparente. Avec Putty, c'est un peu plus d√©licat, mais une fois que l'on a la m√©thode, √ßa roule.</p>
<p>La m√©thode, c'est de d√©finir l'h√¥te interm√©diaire dans la page proxy avec les informations qui vont bien. Pour "proxy command", un copie/colle de ce qui suit devrait suffir:</p>
<pre><code>plink -P %proxyport -pw %pass %user@%proxyhost -C -X -nc %host:%port\n
</code></pre>
<p><img src="../blog/2014/07/21/putty-et-les-tunnels-imbriques/Putty_confproxy.png" alt="Putty_confproxy"></p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2012/06/28/openvz-sur-une-redhat-6/">OpenVZ sur une RedHat 6</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2012-06-28
  </p>
  <p>Bonjour tout le monde,</p>
<p>Aujourd'hui, je vous propose de mettre en place un syst√®me de virtualisation utilisable sur tout type de mat√©riel. En fait, dans notre cas du jour, il ne s'agit pas exactement de virtualisation mais plut√¥t de conteneur. L'avantage, c'est que √ßa fonctionne sur des machines qui n'ont pas forc√©ment les instructions de virtualisation mat√©riel. Pour ceux qui ne savent pas ce qu'est un conteneur (dans ce contexte), je vais faire un petit rappel.</p>
<p>Le conteneur permet de faire des machines virtuelles, mais celles ci n'auront pas un espace complet r√©serv√© comme sur d'autre syst√®me de virtualisation car pour le syst√®me h√¥te et les invit√©s, il s'agit du m√™me noyau. Cela implique donc diff√©rente chose, √† commencer par des performance √©lev√©e car il y a moins d'√©tape entre l'application d'une machine virtuelle et le mat√©riel (disque, m√©moire, cpu, ...). En contre parti, comme on a qu'un seul noyau, les invit√©s sont donc du m√™me type que l'h√¥te (Linux -- Linux, Windows -- Windows).</p>
<p>Ici, nous ne verrons que la parti Linux. Le projet que nous allons utiliser s‚Äôappelle OpenVZ. Bien s√ªr, il y en a d'autre qui existe.</p>
<p>N√¥tre syst√®me h√¥te sera un clone d'une RedHat 6 (Scientific Linux 6).</p>
<p>L'installation sur ce genre de syst√®me est vraiment tr√®s simple.</p>
<p>R√©cup√©rez en premier la d√©finition du d√©p√¥t :</p>
<pre><code>cd /etc/yum.repos.d &amp;&amp; wget http://download.openvz.org/openvz.repo &amp;&amp; \
rpm --import http://download.openvz.org/RPM-GPG-Key-OpenVZ
</code></pre>
<p>Ensuite, modifier le fichier openvz.repo pour d√©sactiver le d√©pot redhat 5 et activer celui de la redhat 6.</p>
<p>Enfin, installez le kernel:</p>
<pre><code>yum install vzkernel-firmware vzkernel vzctl vzquota
</code></pre>
<p>Pour que OpenVZ soit fonctionnel, il reste juste un peu de configuration. D√©sactiver SELinux (/etc/selinux/config) et mettez dans le fichier /etc/sysctl.conf ce qui suit:</p>
<pre><code># On Hardware Node we generally need  
# packet forwarding enabled and proxy arp disabled  
net.ipv4.ip_forward = 1  
net.ipv6.conf.default.forwarding = 1  
net.ipv6.conf.all.forwarding = 1  
net.ipv4.conf.default.proxy_arp = 0 

# Enables source route verification  
net.ipv4.conf.all.rp_filter = 1 

# Enables the magic-sysrq key  
kernel.sysrq = 1 

# We do not want all our interfaces to send redirects  
net.ipv4.conf.default.send_redirects = 1  
net.ipv4.conf.all.send_redirects = 0
</code></pre>
<p>Apr√®s un red√©marrage sur le nouveau noyau, vous voil√† pr√™t √† cr√©er et d√©marrer vos machines virtuelles.</p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2011/10/16/plugins-seamonkey/">Plugins et Seamonkey</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2011-10-16
  </p>
  <p>Bonjour,Depuis quelque temps maintenant, la fondation mozilla publie une nouvelle version de firefox beaucoup plus fr√©quement, et par cons√©quant seamonkey aussi. Bien que cela permet d'apporter de nouvelles fonctionnalit√©es plus rapidement, √ßa pose d'autre probl√®me notament au niveau des extentions.</p>
<p>Par exemple la google bare.</p>
<p>Pour que cette bare fonctionne toujours sur mon navigateur, je d√©zipe le fichier {6b6601f1-361e-4b9f-bb6d-f8305000e4f6}.xpi pr√©sent dans le r√©pertoire extensions et modifie le champ "maxVersion" dans la section Seamonkey du fichier install.rdf. Ensuite, il suffit de refaire le zip et de relancer le navigateur et tout devrait √™tre bon.</p>
<p>Pour toute extention, une simple recherche texte dans le fichier extensions.rdf vous permettra de retrouver le nom du fichier .xpi ou du r√©pertoire contenant l'extention. La proc√©dure ensuite reste la m√™me.</p>

  </div>

  
    
  <div class="blog-post">
  
    <h2><a href="../blog/2011/09/17/wifi-openwrt-limite-a-65mbs/">Wifi sous OpenWrt limit√© √† 65Mbs ?</a></h2>
  
  <p class="meta">
    written by
    
      Adrien
    
    on 2011-09-17
  </p>
  <p>J'ai dans un coin une petite machine de chez PC Engines, une WARP 1.D. Il y a quelques jours, j'y ai mis OpenWrt et un carte wifi N. Malheureusement, le d√©bit wifi plafonnait √† 65 Mb/s malgr√®s une lageur de bande de 40MHz.</p>
<p>En fait, la manipulation qui va bien est de se connecter en ssh et taper les commandes suivantes :</p>
<pre><code>uci set wireless.radio0.noscan=1
uci commit
reboot
</code></pre>
<p>Depuis, mon wifi sur ce point d'acc√®s est maintenant de 300Mb/s. Bon, j'ai encore beaucoup de chose √† tester.</p>
<p><a href="https://forum.openwrt.org/viewtopic.php?pid=137298">source</a></p>

  </div>

  

  
  <div class="pagination">
    
      <span class="disabled">&laquo; Previous</span>
    
    | 1 |
    
      <a href="../blog/page/2/">Next &raquo;</a>
    
  </div>


  </div>
  <footer>
    &copy; Copyright 2010-2018 by Adrien Reslinger.
  </footer>
</body>
